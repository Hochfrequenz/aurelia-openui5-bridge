{"version":3,"sources":["search-field/search-field.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Control","Ui5SearchField","Element","addChild","child","elem","path","$","parentsUntil","element","localName","_field","addSuggestionItem","defaultFunc","attached","attributeManager","params","maxLength","enableSuggestions","liveChange","suggest","search","value","width","enabled","placeholder","showMagnifier","showRefreshButton","refreshButtonTooltip","showSearchButton","selectOnFocus","ui5Id","sap","m","SearchField","parents","au","controller","viewModel","addAttributes","that","attachLiveChange","event","valueLiveUpdate","mParameters","addEventDelegate","valueChanged","newValue","setValue","widthChanged","setWidth","enabledChanged","setEnabled","visibleChanged","setVisible","maxLengthChanged","setMaxLength","placeholderChanged","setPlaceholder","showMagnifierChanged","setShowMagnifier","showRefreshButtonChanged","setShowRefreshButton","refreshButtonTooltipChanged","setRefreshButtonTooltip","showSearchButtonChanged","setShowSearchButton","enableSuggestionsChanged","setEnableSuggestions","selectOnFocusChanged","setSelectOnFocus"],"mappings":"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","file":"../../../search-field/search-field.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { Ui5Control } from '../control/control';\r\n@customElement('ui5-search-field')\r\n@inject(Element)\r\n\r\nexport class Ui5SearchField extends Ui5Control {\r\n  _field = null;\r\n\r\n  @bindable() value = null;\r\n  @bindable() width = null;\r\n  @bindable() enabled = true;\r\n  @bindable() visible = true;\r\n  @bindable() maxLength = 0;\r\n  @bindable() placeholder = null;\r\n  @bindable() showMagnifier = true;\r\n  @bindable() showRefreshButton = false;\r\n  @bindable() refreshButtonTooltip = null;\r\n  @bindable() showSearchButton = true;\r\n  @bindable() enableSuggestions = false;\r\n  @bindable() selectOnFocus = true;\r\n\r\n  @bindable() liveChange = this.defaultFunc;\r\n  @bindable() suggest = this.defaultFunc;\r\n  @bindable() search = this.defaultFunc;\r\n\r\n  addChild(child, elem) {\r\n    var path = $(elem).parentsUntil(this.element);\r\n    super.addChild(child, elem);\r\n    for (elem of path) {\r\n      if (elem.localName == 'suggestion-item') {\r\n        this._field.addSuggestionItem(child);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  constructor(element) {\r\n    super(element);\r\n    this.element = element;\r\n  }\r\n  defaultFunc() {\r\n\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var params = {\r\n      maxLength: this.maxLength,\r\n      enableSuggestions: getBooleanFromAttributeValue(this.enableSuggestions),\r\n      liveChange: this.liveChange,\r\n      suggest: this.suggest,\r\n      search: this.search,\r\n      value: this.value,\r\n      width: this.width,\r\n      enabled: getBooleanFromAttributeValue(this.enabled),\r\n      placeholder: this.placeholder,\r\n      showMagnifier: getBooleanFromAttributeValue(this.showMagnifier),\r\n      showRefreshButton: getBooleanFromAttributeValue(this.showRefreshButton),\r\n      refreshButtonTooltip: this.refreshButtonTooltip,\r\n      showSearchButton: getBooleanFromAttributeValue(this.showSearchButton),\r\n      enableSuggestions: getBooleanFromAttributeValue(this.enableSuggestions),\r\n      selectOnFocus: getBooleanFromAttributeValue(this.selectOnFocus)\r\n    };\r\n    if (this.ui5Id)\r\n      this._field = new sap.m.SearchField(this.ui5Id, params);\r\n    else\r\n      this._field = new sap.m.SearchField(params);\r\n    $(this.element).parents(\"[ui5-container]\")[0].au.controller.viewModel.addChild(this._field, this.element);\r\n    attributeManager.addAttributes({ \"ui5-layout\": '' });\r\n    attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    var that = this;\r\n    this._field.attachLiveChange((event) => {\r\n      if (getBooleanFromAttributeValue(that.valueLiveUpdate)) {\r\n        that.value = event.mParameters.value;\r\n      }\r\n    });\r\n    this._field.addEventDelegate(this.element);\r\n    super.attached();\r\n  }\r\n  valueChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setValue(newValue);\r\n    }\r\n  }\r\n  widthChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setWidth(newValue);\r\n    }\r\n  }\r\n  enabledChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setEnabled(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  visibleChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setVisible(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  maxLengthChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setMaxLength(newValue);\r\n    }\r\n  }\r\n  placeholderChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setPlaceholder(newValue);\r\n    }\r\n  }\r\n  showMagnifierChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setShowMagnifier(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  showRefreshButtonChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setShowRefreshButton(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  refreshButtonTooltipChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setRefreshButtonTooltip(newValue);\r\n    }\r\n  }\r\n  showSearchButtonChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setShowSearchButton(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  enableSuggestionsChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setEnableSuggestions(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  selectOnFocusChanged(newValue) {\r\n    if (this._field !== null) {\r\n      this._field.setSelectOnFocus(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n /*Todo change event handlers*/\r\n}\r\n"]}