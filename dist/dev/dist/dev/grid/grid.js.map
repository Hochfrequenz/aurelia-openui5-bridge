{"version":3,"sources":["grid/grid.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Grid","Element","element","_grid","_parent","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","addContent","removeChildByRelation","relation","removeContent","removeChild","defaultPress","attached","attributeManager","sap","ui","layout","Grid","defaultSpan","width","vSpacing","hSpacing","position","defaultIdent","containerQuery","closest","length","au","controller","viewModel","addAttributes","detached","defaultSpanChanged","newValue","setDefaultSpan","widthChanged","setWidth","vSpacingChanged","setVSpacing","hSpacingChanged","setHSpacing","positionChanged","setPosition","defaultIdentChanged","setDefaultIdent","containerQueryChanged","setContainerQuery"],"mappings":"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","file":"../../../grid/grid.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customElement('ui5-grid')\r\n@inject(Element)\r\nexport class Ui5Grid {\r\n  _grid = null;\r\n  _parent = null;\r\n  @bindable() width = '100%';\r\n  @bindable() vSpacing = 1;\r\n  @bindable() hSpacing = 1;\r\n  @bindable() position = 'Left';\r\n  @bindable() defaultSpan = 'XL3 L3 M6 S12';\r\n  @bindable() defaultIdent = 'XL0 L0 M0 S0';\r\n  @bindable() containerQuery = false;\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n  get UIElement() {\r\n    return this._grid;\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n      if (elem.localName == 'content') {\r\n        this._grid.addContent(child);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  removeChildByRelation(child, relation) {\r\n    if (relation == 'content') {\r\n      this._grid.removeContent(child);\r\n    }\r\n  }\r\n  removeChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    if (path[0].localName == 'content')\r\n      this._grid.removeContent(child);\r\n  }\r\n  defaultPress() {\r\n\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n\r\n    this._grid = new sap.ui.layout.Grid(\r\n      {\r\n        defaultSpan: this.defaultSpan,\r\n        width: this.width,\r\n        vSpacing: this.vSpacing,\r\n        hSpacing: this.hSpacing,\r\n        position: this.position,\r\n        defaultIdent: this.defaultIdent,\r\n        containerQuery: getBooleanFromAttributeValue(this.containerQuery)\r\n      }\r\n    );\r\n    if ($(this.element).closest(\"[ui5-container]\").length > 0) {\r\n      this._parent = $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel;\r\n      this._parent.addChild(this._grid, this.element);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n  }\r\n  detached() {\r\n    this._parent.removeChild(this._grid, this.element);\r\n  }\r\n  defaultSpanChanged(newValue) {\r\n    if (this._grid != null) {\r\n      this._grid.setDefaultSpan(newValue);\r\n    }\r\n  }\r\n  widthChanged(newValue) {\r\n    if (this._grid !== null) {\r\n      this._grid.setWidth(newValue);\r\n    }\r\n  }\r\n  vSpacingChanged(newValue) {\r\n    if (this._grid !== null) {\r\n      this._grid.setVSpacing(newValue);\r\n    }\r\n  }\r\n  hSpacingChanged(newValue) {\r\n    if (this._grid !== null) {\r\n      this._grid.setHSpacing(newValue);\r\n    }\r\n  }\r\n  positionChanged(newValue) {\r\n    if (this._grid !== null) {\r\n      this._grid.setPosition(newValue);\r\n    }\r\n  }\r\n  defaultIdentChanged(newValue) {\r\n    if (this._grid !== null) {\r\n      this._grid.setDefaultIdent(newValue);\r\n    }\r\n  }\r\n  containerQueryChanged(newValue) {\r\n    if (this._grid !== null) {\r\n      this._grid.setContainerQuery(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n\r\n}\r\n"]}