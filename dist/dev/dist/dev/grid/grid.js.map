{"version":3,"sources":["grid/grid.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Grid","Element","element","_grid","_parent","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","addContent","removeChildByRelation","relation","removeContent","removeChild","defaultPress","attached","attributeManager","sap","ui","layout","Grid","defaultSpan","closest","length","au","controller","viewModel","addAttributes","detached","defaultSpanChanged","newValue","setDefaultSpan"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,oB,sBAAAA,Q;AAAUC,yB,sBAAAA,a;AAAeC,kB,sBAAAA,M;;AACzBC,kB,+BAAAA,M;;AACAC,4B,2BAAAA,gB;;AACAC,wC,qBAAAA,4B;;;+BAIIC,O,WAFZL,cAAc,UAAd,C,UACAE,OAAOI,OAAP,C,UAIIP,U;AACD,iCAAYQ,OAAZ,EAAqB;AAAA;;AAAA,yBAHrBC,KAGqB,GAHb,IAGa;AAAA,yBAFrBC,OAEqB,GAFX,IAEW;;AAAA;;AACjB,yBAAKF,OAAL,GAAeA,OAAf;AACH;;kCACDG,Q,qBAASC,K,EAAOC,I,EAAM;AAClB,wBAAIC,OAAOC,OAAOC,SAAP,CAAiBC,EAAEJ,IAAF,EAAQK,YAAR,CAAqB,KAAKV,OAA1B,CAAjB,CAAX;AACA,yCAAaM,IAAb,kHAAmB;AAAA;AAAA;AAAdD,gCAAc;AAAA;AAAA;AAAA;AAAdA,gCAAc;AAAA;;AACf,4BAAIA,KAAKM,SAAL,IAAkB,SAAtB,EAAiC;AAC7B,iCAAKV,KAAL,CAAWW,UAAX,CAAsBR,KAAtB;AACA;AACH;AACJ;AACJ,iB;;kCACDS,qB,kCAAsBT,K,EAAOU,Q,EAAU;AACnC,wBAAIA,YAAY,SAAhB,EAA2B;AACvB,6BAAKb,KAAL,CAAWc,aAAX,CAAyBX,KAAzB;AACH;AACJ,iB;;kCACDY,W,wBAAYZ,K,EAAOC,I,EAAM;AACrB,wBAAIC,OAAOC,OAAOC,SAAP,CAAiBC,EAAEJ,IAAF,EAAQK,YAAR,CAAqB,KAAKV,OAA1B,CAAjB,CAAX;AACA,wBAAIM,KAAK,CAAL,EAAQK,SAAR,IAAqB,SAAzB,EACI,KAAKV,KAAL,CAAWc,aAAX,CAAyBX,KAAzB;AACP,iB;;kCACDa,Y,2BAAe,CAEd,C;;kCACDC,Q,uBAAW;AACP,wBAAIC,mBAAmB,IAAIvB,gBAAJ,CAAqB,KAAKI,OAA1B,CAAvB;;AAEA,yBAAKC,KAAL,GAAa,IAAImB,IAAIC,EAAJ,CAAOC,MAAP,CAAcC,IAAlB,CACT;AACIC,qCAAa,KAAKA;AADtB,qBADS,CAAb;AAKA,wBAAIf,EAAE,KAAKT,OAAP,EAAgByB,OAAhB,CAAwB,iBAAxB,EAA2CC,MAA3C,GAAoD,CAAxD,EAA2D;AACzD,6BAAKxB,OAAL,GAAeO,EAAE,KAAKT,OAAP,EAAgByB,OAAhB,CAAwB,iBAAxB,EAA2C,CAA3C,EAA8CE,EAA9C,CAAiDC,UAAjD,CAA4DC,SAA3E;AACE,6BAAK3B,OAAL,CAAaC,QAAb,CAAsB,KAAKF,KAA3B,EAAkC,KAAKD,OAAvC;AACAmB,yCAAiBW,aAAjB,CAA+B,EAAE,iBAAiB,EAAnB,EAA/B;AACH;AACJ,iB;;kCACDC,Q,uBAAW;AACP,yBAAK7B,OAAL,CAAac,WAAb,CAAyB,KAAKf,KAA9B,EAAqC,KAAKD,OAA1C;AACH,iB;;kCACDgC,kB,+BAAmBC,Q,EAAU;AACzB,wBAAI,KAAKhC,KAAL,IAAc,IAAlB,EAAwB;AACpB,6BAAKA,KAAL,CAAWiC,cAAX,CAA0BD,QAA1B;AACH;AACJ,iB;;;;;;2BA/CyB,I","file":"../../../grid/grid.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customElement('ui5-grid')\r\n@inject(Element)\r\nexport class Ui5Grid {\r\n    _grid = null;\r\n    _parent = null;\r\n    @bindable() defaultSpan = null;\r\n    constructor(element) {\r\n        this.element = element;\r\n    }\r\n    addChild(child, elem) {\r\n        var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n        for (elem of path) {\r\n            if (elem.localName == 'content') {\r\n                this._grid.addContent(child);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    removeChildByRelation(child, relation) {\r\n        if (relation == 'content') {\r\n            this._grid.removeContent(child);\r\n        }\r\n    }\r\n    removeChild(child, elem) {\r\n        var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n        if (path[0].localName == 'content')\r\n            this._grid.removeContent(child);\r\n    }\r\n    defaultPress() {\r\n\r\n    }\r\n    attached() {\r\n        var attributeManager = new AttributeManager(this.element);\r\n\r\n        this._grid = new sap.ui.layout.Grid(\r\n            {\r\n                defaultSpan: this.defaultSpan,\r\n            }\r\n        );\r\n        if ($(this.element).closest(\"[ui5-container]\").length > 0) {\r\n          this._parent = $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel;\r\n            this._parent.addChild(this._grid, this.element);\r\n            attributeManager.addAttributes({ \"ui5-container\": '' });\r\n        }\r\n    }\r\n    detached() {\r\n        this._parent.removeChild(this._grid, this.element);\r\n    }\r\n    defaultSpanChanged(newValue) {\r\n        if (this._grid != null) {\r\n            this._grid.setDefaultSpan(newValue);\r\n        }\r\n    }\r\n\r\n}\r\n"]}