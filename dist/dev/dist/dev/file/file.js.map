{"version":3,"sources":["file/file.js"],"names":["bindable","customElement","bindingMode","inject","fireEvent","fireMaterializeEvent","getBooleanFromAttributeValue","MdFileInput","Element","defaultBindingMode","oneTime","twoWay","element","files","_suspendUpdate","handleChangeFromNativeInput","bind","attached","mdMultiple","$","filePath","on","detached","off"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,c,sBAAAA,Q;AAAUC,mB,sBAAAA,a;;AACVC,iB,mBAAAA,W;;AACAC,Y,+BAAAA,M;;AACAC,e,iBAAAA,S;AAAWC,0B,iBAAAA,oB;;AACXC,kC,qBAAAA,4B;;;6BAIIC,W,WAFZN,cAAc,SAAd,C,UACAE,OAAOK,OAAP,C,UAEER,U,UACAA,SAAS;AACRS,4BAAoBP,YAAYQ;AADxB,OAAT,C,UAGAV,SAAS;AACRS,4BAAoBP,YAAYS;AADxB,OAAT,C,UAGAX,U;AAKD,6BAAYY,OAAZ,EAAqB;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAJrBC,KAIqB,GAJb,EAIa;AAAA,eAFrBC,cAEqB,GAFJ,KAEI;;AACnB,eAAKF,OAAL,GAAeA,OAAf;AACA,eAAKG,2BAAL,GAAmC,KAAKA,2BAAL,CAAiCC,IAAjC,CAAsC,IAAtC,CAAnC;AACD;;8BAEDC,Q,uBAAW;AACT,eAAKC,UAAL,GAAkBZ,6BAA6B,KAAKY,UAAlC,CAAlB;AACAC,YAAE,KAAKC,QAAP,EAAiBC,EAAjB,CAAoB,QAApB,EAA8B,KAAKN,2BAAnC;AACD,S;;8BAEDO,Q,uBAAW;AACTH,YAAE,KAAKP,OAAP,EAAgBW,GAAhB,CAAoB,QAApB,EAA8B,KAAKR,2BAAnC;AACD,S;;8BAEDA,2B,0CAA8B;AAC5B,cAAI,CAAC,KAAKD,cAAV,EAA0B;AACxB,iBAAKA,cAAL,GAAsB,IAAtB;AACAV,sBAAU,KAAKgB,QAAf,EAAyB,QAAzB,EAAmC,EAAEP,OAAO,KAAKA,KAAd,EAAnC;AACAR,iCAAqB,KAAKe,QAA1B,EAAoC,QAApC,EAA8C,EAAEP,OAAO,KAAKA,KAAd,EAA9C;AACA,iBAAKC,cAAL,GAAsB,KAAtB;AACD;AACF,S;;;;;;iBAjCuB,M;;;;;iBAGR,K;;;;;;;;iBAIO,K","file":"../../../file/file.js","sourcesContent":["import { bindable, customElement } from 'aurelia-templating';\nimport { bindingMode } from 'aurelia-binding';\nimport { inject } from 'aurelia-dependency-injection';\nimport { fireEvent, fireMaterializeEvent } from '../common/events';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\n\n@customElement('md-file')\n@inject(Element)\nexport class MdFileInput {\n  @bindable() mdCaption = 'File';\n  @bindable({\n    defaultBindingMode: bindingMode.oneTime\n  }) mdMultiple = false;\n  @bindable({\n    defaultBindingMode: bindingMode.twoWay\n  }) mdLabelValue;\n  @bindable() disabled = false;\n  files = [];\n\n  _suspendUpdate = false;\n\n  constructor(element) {\n    this.element = element;\n    this.handleChangeFromNativeInput = this.handleChangeFromNativeInput.bind(this);\n  }\n\n  attached() {\n    this.mdMultiple = getBooleanFromAttributeValue(this.mdMultiple);\n    $(this.filePath).on('change', this.handleChangeFromNativeInput);\n  }\n\n  detached() {\n    $(this.element).off('change', this.handleChangeFromNativeInput);\n  }\n\n  handleChangeFromNativeInput() {\n    if (!this._suspendUpdate) {\n      this._suspendUpdate = true;\n      fireEvent(this.filePath, 'change', { files: this.files });\n      fireMaterializeEvent(this.filePath, 'change', { files: this.files });\n      this._suspendUpdate = false;\n    }\n  }\n}\n"]}