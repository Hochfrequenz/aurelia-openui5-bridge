{"version":3,"sources":["upload-collection-item/upload-collection-item.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5UploadCollectionItem","Element","element","_upload","_parent","_relation","defaultFunc","event","addChild","child","elem","path","$","parentsUntil","localName","addAttribute","addStatus","addMarker","removeChildByRelation","relation","removeAttribute","removeStatus","removeMarker","attached","attributeManager","sap","m","UploadCollectionItem","contributor","documentId","fileName","fileSize","mimeType","thumbnailUrl","enableDelete","uploadedDate","visibleEdit","url","visibleDelete","ariaLabelForPicture","parents","length","au","controller","viewModel","addAttributes","placeAt","parentElement","addClasses","detached","destroy","contributorChanged","newValue","setContributor","documentIdChanged","setDocumentId","fileSizeChanged","setFileSize","mimeTypeChanged","setMimeType","thumbnailUrlChanged","setThumbnailUrl","enableDeleteChanged","setEnableDelete","uploadedDateChanged","setUploadedDate","visibleEditChanged","setVisibleEdit","urlChanged","setUrl","visibleDeleteChanged","setVisibleDelete","ariaLabelForPictureChanged","setAriaLabelForPicture","selectedChanged","setSelected","terminationEnabledChanged","setterminationEnabled"],"mappings":"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","file":"../../../upload-collection-item/upload-collection-item.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customElement('ui5-upload-collection-item')\r\n@inject(Element)\r\nexport class Ui5UploadCollectionItem {\r\n  @bindable() contributor = null;\r\n  @bindable() documentId = null;\r\n  @bindable() fileName = null;\r\n  @bindable() fileSize = null;\r\n  @bindable() enableEdit = true;\r\n  @bindable() mimeType = null;\r\n  @bindable() thumbnailUrl = null;\r\n  @bindable() enableDelete = true;\r\n  @bindable() uploadedDate = null;\r\n  @bindable() visibleEdit = true;\r\n  @bindable() url = null;\r\n  @bindable() visibleDelete = true;\r\n  @bindable() ariaLabelForPicture = null;\r\n  @bindable() selected = false;\r\n\r\n  _upload = null;\r\n  _parent = null;\r\n  _relation = null;\r\n  constructor(element) {\r\n    \r\n    this.element = element;\r\n  }\r\n  defaultFunc(event) {\r\n\r\n  }\r\n  addChild(child, elem) {\r\n    var path = $(elem).parentsUntil(this.element);\r\n    for (elem of path) {\r\n      if (elem.localName == 'attributes') {\r\n        this._upload.addAttribute(child);\r\n        return elem.localName;\r\n      }\r\n      else if (elem.localName == 'statuses') {\r\n        this._upload.addStatus(child);\r\n        return elem.localName;\r\n      }\r\n      else if (elem.localName == 'markers') {\r\n        this._upload.addMarker(child);\r\n        return elem.localName;\r\n      }\r\n    }\r\n  }\r\n  removeChildByRelation(child, relation) {\r\n    if (relation === 'attributes' && this._upload) {\r\n      this._upload.removeAttribute(child);\r\n    }\r\n    else if (relation === 'statuses' && this._upload) {\r\n      this._upload.removeStatus(null);\r\n    }\r\n    else if (relation === 'markers' && this._upload) {\r\n      this._upload.removeMarker(null);\r\n    }\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    this._upload = new sap.m.UploadCollectionItem({\r\n      contributor: this.contributor,\r\n      documentId: this.documentId,\r\n      fileName: this.fileName,\r\n      fileSize: this.fileSize,\r\n      mimeType: this.mimeType,\r\n      thumbnailUrl: this.thumbnailUrl,\r\n      enableDelete: getBooleanFromAttributeValue(this.enableDelete),\r\n      uploadedDate: this.uploadedDate,\r\n      visibleEdit: getBooleanFromAttributeValue(this.visibleEdit),\r\n      url: this.url,\r\n      visibleDelete: getBooleanFromAttributeValue(this.visibleDelete),\r\n      ariaLabelForPicture: this.ariaLabelForPicture,\r\n    });\r\n\r\n    if ($(this.element).parents(\"[ui5-container]\").length > 0) {\r\n      this._parent =$(this.element).parents(\"[ui5-container]\")[0].au.controller.viewModel; \r\n      this._relation = this._parent.addChild(this._upload, this.element);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n    else {\r\n      this._upload.placeAt(this.element.parentElement);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n      attributeManager.addClasses(\"ui5-hide\");\r\n    }\r\n  }\r\n  detached() {\r\n    if (this._parent && this._parent.removeChildByRelation) {\r\n      this._parent.removeChildByRelation(this._upload, this._relation);\r\n    }\r\n    else {\r\n      this._upload.destroy();\r\n    }\r\n  }\r\n  contributorChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setContributor(newValue);\r\n    }\r\n  }\r\n  documentIdChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setDocumentId(newValue);\r\n    }\r\n  }\r\n  fileSizeChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setFileSize(newValue);\r\n    }\r\n  }\r\n  mimeTypeChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setMimeType(newValue);\r\n    }\r\n  }\r\n  thumbnailUrlChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setThumbnailUrl(newValue);\r\n    }\r\n  }\r\n  enableDeleteChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setEnableDelete(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  uploadedDateChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setUploadedDate(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  visibleEditChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setVisibleEdit(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  urlChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setUrl(newValue);\r\n    }\r\n  }\r\n  visibleDeleteChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setVisibleDelete(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  ariaLabelForPictureChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setAriaLabelForPicture(newValue);\r\n    }\r\n  }\r\n  selectedChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setSelected(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  terminationEnabledChanged(newValue) {\r\n    if (this._upload !== null) {\r\n      this._upload.setterminationEnabled(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n\r\n  /*TODO: Add change bindings for event handlers */\r\n}\r\n"]}