{"version":3,"sources":["view-settings-dialog/view-settings-dialog.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5ViewSettingsDialog","Element","element","_dialog","_parent","attributeManager","defaultFunc","event","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","addSortItem","addGroupItem","addFilterItem","addPresetFilterItem","addCustomTab","removeChildByRelation","relation","removeGroupItem","removeFilterItem","removePresetFilterItem","removeCustomTab","removeChild","attached","props","icon","title","sortDescending","groupDescending","confirm","cancel","beforeClose","filterDetailPageOpened","ui5Id","sap","m","ViewSettingsDialog","addAttributes","detached","titleChanged","newValue","setTitle","sortDescendingChanged","setSortDescending","groupDescendingChanged","setGroupDescending"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,c,sBAAAA,Q;AAAUC,mB,sBAAAA,a;AAAeC,Y,sBAAAA,M;;AACzBC,Y,+BAAAA,M;;AACAC,sB,2BAAAA,gB;;AACAC,kC,qBAAAA,4B;;;;;;;;;;;;;;;;;;;;;uCAIIC,qB,WAFZL,cAAc,0BAAd,C,UACAE,OAAOI,OAAP,C,UAIEP,U,UACAA,U,UACAA,U,UACAA,U,UACAA,U,UACAA,U,UACAA,U,WACAA,U;AAED,uCAAYQ,OAAZ,EAAqB;AAAA;;AAAA,eAXrBC,OAWqB,GAXX,IAWW;AAAA,eAVrBC,OAUqB,GAVX,IAUW;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AACnB,eAAKF,OAAL,GAAeA,OAAf;AACA,eAAKG,gBAAL,GAAwB,IAAIP,gBAAJ,CAAqB,KAAKI,OAA1B,CAAxB;AACD;;wCACDI,W,wBAAYC,K,EAAO,CAElB,C;;wCAIDC,Q,qBAASC,K,EAAOC,I,EAAM;AACpB,cAAIC,OAAOC,OAAOC,SAAP,CAAiBC,EAAEJ,IAAF,EAAQK,YAAR,CAAqB,KAAKb,OAA1B,CAAjB,CAAX;AACA,+BAAaS,IAAb,kHAAmB;AAAA;AAAA;AAAdD,kBAAc;AAAA;AAAA;AAAA;AAAdA,kBAAc;AAAA;;AACjB,gBAAIA,KAAKM,SAAL,IAAkB,WAAtB,EAAmC;AACjC,mBAAKb,OAAL,CAAac,WAAb,CAAyBR,KAAzB;AACA,qBAAO,WAAP;AACD;AACD,gBAAIC,KAAKM,SAAL,IAAkB,YAAtB,EAAoC;AAClC,mBAAKb,OAAL,CAAae,YAAb,CAA0BT,KAA1B;AACA,qBAAO,YAAP;AACD;AACD,gBAAIC,KAAKM,SAAL,IAAkB,aAAtB,EAAqC;AACnC,mBAAKb,OAAL,CAAagB,aAAb,CAA2BV,KAA3B;AACA,qBAAO,aAAP;AACD;AACD,gBAAIC,KAAKM,SAAL,IAAkB,mBAAtB,EAA2C;AACzC,mBAAKb,OAAL,CAAaiB,mBAAb,CAAiCX,KAAjC;AACA,qBAAO,mBAAP;AACD;AACD,gBAAIC,KAAKM,SAAL,IAAkB,YAAtB,EAAoC;AAClC,mBAAKb,OAAL,CAAakB,YAAb,CAA0BZ,KAA1B;AACA,qBAAO,YAAP;AACD;AACF;AACF,S;;wCACDa,qB,kCAAsBb,K,EAAOc,Q,EAAU;AACrC,cAAIA,YAAY,WAAhB,EAA6B,CAG5B,CAHD,MAIK,IAAIA,YAAY,YAAhB,EAA8B;AACjC,iBAAKpB,OAAL,CAAaqB,eAAb,CAA6Bf,KAA7B;AACD,WAFI,MAGA,IAAIc,YAAY,aAAhB,EAA+B;AAClC,iBAAKpB,OAAL,CAAasB,gBAAb,CAA8BhB,KAA9B;AACD,WAFI,MAGA,IAAIc,YAAY,mBAAhB,EAAqC;AACxC,iBAAKpB,OAAL,CAAauB,sBAAb,CAAoCjB,KAApC;AACD,WAFI,MAGA,IAAIc,YAAY,YAAhB,EAA8B;AACjC,iBAAKpB,OAAL,CAAawB,eAAb,CAA6BlB,KAA7B;AACD;AACF,S;;wCACDmB,W,wBAAYnB,K,EAAOC,I,EAAM,CAExB,C;;wCACDmB,Q,uBAAW;AACT,cAAIC,QAAQ;AACVC,kBAAM,KAAKA,IADD;AAEVC,mBAAO,KAAKA,KAFF;AAGVC,4BAAgBlC,6BAA6B,KAAKkC,cAAlC,CAHN;AAIVC,6BAAiBnC,6BAA6B,KAAKmC,eAAlC,CAJP;AAKVC,qBAAS,KAAKA,OALJ;AAMVC,oBAAQ,KAAKA,MANH;AAOVC,yBAAa,KAAKA,WAPR;AAQVC,oCAA0B,KAAKA;AARrB,WAAZ;AAUA,cAAI,KAAKC,KAAT,EACE,KAAKpC,OAAL,GAAe,IAAIqC,IAAIC,CAAJ,CAAMC,kBAAV,CAA6B,KAAKH,KAAlC,EAAyCT,KAAzC,CAAf,CADF,KAGE,KAAK3B,OAAL,GAAe,IAAIqC,IAAIC,CAAJ,CAAMC,kBAAV,CAA6BZ,KAA7B,CAAf;AACF,eAAKzB,gBAAL,CAAsBsC,aAAtB,CAAoC,EAAE,iBAAiB,KAAKJ,KAAxB,EAApC;AACA,eAAKlC,gBAAL,CAAsBsC,aAAtB,CAAoC,EAAE,cAAc,EAAhB,EAApC;AACA,eAAKtC,gBAAL,CAAsBsC,aAAtB,CAAoC,EAAE,iBAAiB,EAAnB,EAApC;AAED,S;;wCACDC,Q,uBAAW,CAEV,C;;wCAGDC,Y,yBAAaC,Q,EAAU;AACrB,cAAI,KAAK3C,OAAL,KAAiB,IAArB,EAA2B;AACzB,iBAAKA,OAAL,CAAa4C,QAAb,CAAsBD,QAAtB;AACD;AACF,S;;wCACDE,qB,kCAAsBF,Q,EAAU;AAC9B,cAAI,KAAK3C,OAAL,KAAiB,IAArB,EAA2B;AACzB,iBAAKA,OAAL,CAAa8C,iBAAb,CAA+BlD,6BAA6B+C,QAA7B,CAA/B;AACD;AACF,S;;wCAEDI,sB,mCAAuBJ,Q,EAAU;AAC/B,cAAI,KAAK3C,OAAL,KAAiB,IAArB,EAA2B;AACzB,iBAAKA,OAAL,CAAagD,kBAAb,CAAgCpD,6BAA6B+C,QAA7B,CAAhC;AACD;AACF,S;;;;8BAzFe;AACd,mBAAO,KAAK3C,OAAZ;AACD;;;;;;;iBAlBmB,I;;;;;iBACA,I;;;;;iBACS,K;;;;;iBACC,K;;;;;iBACR,KAAKG,W;;;;;iBACN,KAAKA,W;;;;;iBACC,KAAKA,W;;;;;iBACK,KAAKA,W","file":"../../../view-settings-dialog/view-settings-dialog.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customElement('ui5-view-settings-dialog')\r\n@inject(Element)\r\nexport class Ui5ViewSettingsDialog {\r\n  _dialog = null;\r\n  _parent = null;\r\n  @bindable() ui5Id = null;\r\n  @bindable() title = null;\r\n  @bindable() sortDescending = false;\r\n  @bindable() groupDescending = false;\r\n  @bindable() confirm = this.defaultFunc;\r\n  @bindable() cancel = this.defaultFunc;\r\n  @bindable() resetFilters = this.defaultFunc;\r\n  @bindable() filterDetailPageOpened = this.defaultFunc;\r\n\r\n  constructor(element) {\r\n    this.element = element;\r\n    this.attributeManager = new AttributeManager(this.element);\r\n  }\r\n  defaultFunc(event) {\r\n\r\n  }\r\n  get UIElement() {\r\n    return this._dialog;\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n      if (elem.localName == 'sortitems') {\r\n        this._dialog.addSortItem(child);\r\n        return 'sortItems';\r\n      }\r\n      if (elem.localName == 'groupitems') {\r\n        this._dialog.addGroupItem(child);\r\n        return 'groupItems';\r\n      }\r\n      if (elem.localName == 'filteritems') {\r\n        this._dialog.addFilterItem(child);\r\n        return 'filterItems';\r\n      }\r\n      if (elem.localName == 'presetfilteritems') {\r\n        this._dialog.addPresetFilterItem(child);\r\n        return 'presetFilterItems';\r\n      }\r\n      if (elem.localName == 'customtabs') {\r\n        this._dialog.addCustomTab(child);\r\n        return 'customTabs';\r\n      }\r\n    }\r\n  }\r\n  removeChildByRelation(child, relation) {\r\n    if (relation == 'sortItems') {\r\n      //skip removal of sortItems (gives error)\r\n      //this._dialog.removeSortItem(child);\r\n    }\r\n    else if (relation == 'groupItems') {\r\n      this._dialog.removeGroupItem(child);\r\n    }\r\n    else if (relation == 'filterItems') {\r\n      this._dialog.removeFilterItem(child);\r\n    }\r\n    else if (relation == 'presetFilterItems') {\r\n      this._dialog.removePresetFilterItem(child);\r\n    }\r\n    else if (relation == 'customTabs') {\r\n      this._dialog.removeCustomTab(child);\r\n    }\r\n  }\r\n  removeChild(child, elem) {\r\n\r\n  }\r\n  attached() {\r\n    var props = {\r\n      icon: this.icon,\r\n      title: this.title,\r\n      sortDescending: getBooleanFromAttributeValue(this.sortDescending),\r\n      groupDescending: getBooleanFromAttributeValue(this.groupDescending),\r\n      confirm: this.confirm,\r\n      cancel: this.cancel,\r\n      beforeClose: this.beforeClose,\r\n      filterDetailPageOpened  : this.filterDetailPageOpened\r\n    };\r\n    if (this.ui5Id)\r\n      this._dialog = new sap.m.ViewSettingsDialog(this.ui5Id, props);\r\n    else\r\n      this._dialog = new sap.m.ViewSettingsDialog(props);\r\n    this.attributeManager.addAttributes({ \"ui5-dialog-id\": this.ui5Id });\r\n    this.attributeManager.addAttributes({ \"ui5-layout\": '' });\r\n    this.attributeManager.addAttributes({ \"ui5-container\": '' });\r\n\r\n  }\r\n  detached() {\r\n\r\n  }\r\n\r\n\r\n  titleChanged(newValue) {\r\n    if (this._dialog !== null) {\r\n      this._dialog.setTitle(newValue);\r\n    }\r\n  }\r\n  sortDescendingChanged(newValue) {\r\n    if (this._dialog !== null) {\r\n      this._dialog.setSortDescending(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  \r\n  groupDescendingChanged(newValue) {\r\n    if (this._dialog !== null) {\r\n      this._dialog.setGroupDescending(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  }\r\n"]}