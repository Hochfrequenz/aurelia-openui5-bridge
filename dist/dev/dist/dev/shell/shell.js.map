{"version":3,"sources":["shell/shell.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Shell","Element","element","_shell","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","setApp","removeChild","attached","attributeManager","shell","sap","m","Shell","title","appWidthLimited","closest","length","au","controller","viewModel","addAttributes","placeAt","parentElement","addClasses","detached","destroy","titleChanged","newValue","setTitle","appWidthLimitedChanged","setAppWidthLimited"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,c,sBAAAA,Q;AAAUC,mB,sBAAAA,a;AAAeC,Y,sBAAAA,M;;AACzBC,Y,+BAAAA,M;;AACAC,sB,2BAAAA,gB;;AACAC,kC,qBAAAA,4B;;;0BAIIC,Q,WAFZL,cAAc,WAAd,C,UACAE,OAAOI,OAAP,C,UAEEP,U,UACAA,U;AAED,0BAAYQ,OAAZ,EAAqB;AAAA;;AAAA;;AAAA;;AAAA,eADrBC,MACqB,GADZ,IACY;;AACnB,eAAKD,OAAL,GAAeA,OAAf;AACD;;2BACDE,Q,qBAASC,K,EAAOC,I,EAAM;AACpB,cAAIC,OAAOC,OAAOC,SAAP,CAAiBC,EAAEJ,IAAF,EAAQK,YAAR,CAAqB,KAAKT,OAA1B,CAAjB,CAAX;AACA,+BAAaK,IAAb,kHAAmB;AAAA;AAAA;AAAdD,kBAAc;AAAA;AAAA;AAAA;AAAdA,kBAAc;AAAA;;AACjB,gBAAIA,KAAKM,SAAL,IAAkB,SAAtB,EAAiC;AAC/B,mBAAKT,MAAL,CAAYU,MAAZ,CAAmBR,KAAnB;AACA;AACD;AACF;AACF,S;;2BACDS,W,wBAAYT,K,EAAOC,I,EAAM,CACxB,C;;2BACDS,Q,uBAAW;AACT,cAAIC,mBAAmB,IAAIlB,gBAAJ,CAAqB,KAAKI,OAA1B,CAAvB;AACA,cAAIe,QAAQ,IAAIC,IAAIC,CAAJ,CAAMC,KAAV,CAAgB;AAC1BC,mBAAO,KAAKA,KADc;AAE1BC,6BAAiBvB,6BAA6B,KAAKuB,eAAlC;;AAFS,WAAhB,CAAZ;AAKA,eAAKnB,MAAL,GAAcc,KAAd;;AAEA,cAAIP,EAAE,KAAKR,OAAP,EAAgBqB,OAAhB,CAAwB,iBAAxB,EAA2CC,MAA3C,GAAoD,CAAxD,EAA2D;AACzDd,cAAE,KAAKR,OAAP,EAAgBqB,OAAhB,CAAwB,iBAAxB,EAA2C,CAA3C,EAA8CE,EAA9C,CAAiDC,UAAjD,CAA4DC,SAA5D,CAAsEvB,QAAtE,CAA+E,KAAKD,MAApF,EAA4F,KAAKD,OAAjG;AACAc,6BAAiBY,aAAjB,CAA+B,EAAE,iBAAiB,EAAnB,EAA/B;AACD,WAHD,MAIK;AACH,iBAAKzB,MAAL,CAAY0B,OAAZ,CAAoB,KAAK3B,OAAL,CAAa4B,aAAjC;AACAd,6BAAiBY,aAAjB,CAA+B,EAAE,iBAAiB,EAAnB,EAA/B;AACAZ,6BAAiBe,UAAjB,CAA4B,UAA5B;AACD;AACF,S;;2BACDC,Q,uBAAW;AACT,cAAItB,EAAE,KAAKR,OAAP,EAAgBqB,OAAhB,CAAwB,iBAAxB,EAA2CC,MAA3C,GAAoD,CAAxD,EAA2D;AACzDd,cAAE,KAAKR,OAAP,EAAgBqB,OAAhB,CAAwB,iBAAxB,EAA2C,CAA3C,EAA8CE,EAA9C,CAAiDC,UAAjD,CAA4DC,SAA5D,CAAsEb,WAAtE,CAAkF,KAAKX,MAAvF,EAA+F,KAAKD,OAApG;AACD,WAFD,MAGK;AACH,iBAAKC,MAAL,CAAY8B,OAAZ;AACD;AACF,S;;2BACDC,Y,yBAAaC,Q,EAAU;AACrB,cAAI,KAAKhC,MAAL,KAAgB,IAApB,EAA0B;AACxB,iBAAKA,MAAL,CAAYiC,QAAZ,CAAqBD,QAArB;AACD;AACF,S;;2BACDE,sB,mCAAuBF,Q,EAAU;AAC/B,cAAI,KAAKhC,MAAL,KAAgB,IAApB,EAA0B;AACxB,iBAAKA,MAAL,CAAYmC,kBAAZ,CAA+BvC,6BAA6BoC,QAA7B,CAA/B;AACD;AACF,S;;;;;;iBArDmB,E;;;;;iBACU,I","file":"../../../shell/shell.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\n\r\n@customElement('ui5-shell')\r\n@inject(Element)\r\nexport class Ui5Shell {\r\n  @bindable() title = '';\r\n  @bindable() appWidthLimited = true;\r\n  _shell = null;\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n      if (elem.localName == 'content') {\r\n        this._shell.setApp(child);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  removeChild(child, elem) {\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var shell = new sap.m.Shell({\r\n      title: this.title,\r\n      appWidthLimited: getBooleanFromAttributeValue(this.appWidthLimited),\r\n\r\n    });\r\n    this._shell = shell;\r\n\r\n    if ($(this.element).closest(\"[ui5-container]\").length > 0) {\r\n      $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel.addChild(this._shell, this.element);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n    else {\r\n      this._shell.placeAt(this.element.parentElement);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n      attributeManager.addClasses(\"ui5-hide\");\r\n    }\r\n  }\r\n  detached() {\r\n    if ($(this.element).closest(\"[ui5-container]\").length > 0) {\r\n      $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel.removeChild(this._shell, this.element);\r\n    }\r\n    else {\r\n      this._shell.destroy();\r\n    }\r\n  }\r\n  titleChanged(newValue) {\r\n    if (this._shell !== null) {\r\n      this._shell.setTitle(newValue);\r\n    }\r\n  }\r\n  appWidthLimitedChanged(newValue) {\r\n    if (this._shell !== null) {\r\n      this._shell.setAppWidthLimited(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n\r\n}\r\n"]}