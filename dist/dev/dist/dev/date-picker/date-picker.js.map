{"version":3,"sources":["date-picker/date-picker.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5InputBase","Ui5DatePicker","Element","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","element","_picker","defaultFunc","attached","attributeManager","params","displayFormat","valueFormat","dateValue","displayFormatType","secondaryCalendarType","minDate","maxDate","specialDates","value","width","enabled","valueState","name","placeholder","editable","valueStateText","showValueStateMessage","textAlign","textDirection","required","change","ui5Id","includeTime","sap","m","DateTimePicker","DatePicker","closest","au","controller","viewModel","addAttributes","that","attachChange","event","mParameters","addEventDelegate","displayFormatChanged","newValue","setDisplayFormat","valueFormatChanged","setValueFormat","dateValueChanged","setDateValue","displayFormatTypeChanged","setDisplayFormatType","secondaryCalendarTypeChanged","setSecondaryCalendarType","minDateChanged","setMinDate","specialDatesChanged","setSpecialDates"],"mappings":"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","file":"../../../date-picker/date-picker.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { Ui5InputBase } from '../input-base/input-base';\r\n@customElement('ui5-date-picker')\r\n@inject(Element)\r\n\r\nexport class Ui5DatePicker extends Ui5InputBase {\r\n  _picker = null;\r\n  @bindable() ui5Id = null;\r\n\r\n  @bindable() includeTime = false;\r\n\r\n  @bindable() displayFormat = null;\r\n  @bindable() valueFormat = null;\r\n  @bindable() dateValue = null;\r\n  @bindable() displayFormatType = null;\r\n  @bindable() secondaryCalendarType = 'Gregorian';\r\n  @bindable() minDate = null;\r\n  @bindable() maxDate = null;\r\n\r\n  @bindable() specialDates = [];\r\n\r\n\r\n  /*Inherited from InputBase */\r\n  @bindable() value = null;\r\n  @bindable() width = null;\r\n  @bindable() enabled = true;\r\n  @bindable() valueState = 'None';\r\n  @bindable() name = null;\r\n  @bindable() placeholder = null;\r\n  @bindable() editable = true;\r\n  @bindable() valueStateText = null;\r\n  @bindable() showValueStateMessage = true;\r\n  @bindable() textAlign = 'Initial';\r\n  @bindable() textDirection = 'Inherit';\r\n  @bindable() required = false;\r\n\r\n  @bindable() change = this.defaultFunc;\r\n  get UIElement() {\r\n    return this._picker;\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    super.addChild(child, elem);\r\n\r\n  }\r\n  constructor(element) {\r\n    super(element);\r\n    this.element = element;\r\n  }\r\n  defaultFunc() {\r\n\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var params = {\r\n      displayFormat: this.displayFormat,\r\n      valueFormat: this.valueFormat,\r\n      dateValue: this.dateValue,\r\n      displayFormatType: this.displayFormatType,\r\n      secondaryCalendarType: this.secondaryCalendarType,\r\n      minDate: this.minDate,\r\n      maxDate: this.maxDate,\r\n      specialDates: this.specialDates,\r\n      /*inherited from InputBase*/\r\n      value: this.value,\r\n      width: this.width,\r\n      enabled: getBooleanFromAttributeValue(this.enabled),\r\n      valueState: this.valueState,\r\n      name: this.value,\r\n      placeholder: this.placeholder,\r\n      editable: getBooleanFromAttributeValue(this.editable),\r\n      valueStateText: this.valueStateText,\r\n      showValueStateMessage: getBooleanFromAttributeValue(this.showValueStateMessage),\r\n      textAlign: this.textAlign,\r\n      textDirection: this.textDirection,\r\n      required: getBooleanFromAttributeValue(this.required),\r\n      change: this.change\r\n      /*inherited from InputBase*/\r\n    };\r\n    if (this.ui5Id) {\r\n      if (getBooleanFromAttributeValue(this.includeTime))\r\n        this._picker = new sap.m.DateTimePicker(this.ui5Id, params);\r\n      else\r\n        this._picker = new sap.m.DatePicker(this.ui5Id, params);\r\n    }\r\n    else {\r\n      if (getBooleanFromAttributeValue(this.includeTime))\r\n        this._picker = new sap.m.DateTimePicker(params);\r\n      else\r\n        this._picker = new sap.m.DatePicker(params);\r\n    }\r\n    $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel.addChild(this._picker, this.element);\r\n    attributeManager.addAttributes({ \"ui5-layout\": '' });\r\n    var that = this;\r\n    this._picker.attachChange((event) => {\r\n      that.value = event.mParameters.value;\r\n    });\r\n\r\n    this._picker.addEventDelegate(this.element);\r\n    super.attached();\r\n  }\r\n  displayFormatChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setDisplayFormat(newValue);\r\n    }\r\n  }\r\n  valueFormatChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setValueFormat(newValue);\r\n    }\r\n  }\r\n  dateValueChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setDateValue(newValue);\r\n    }\r\n  }\r\n  displayFormatTypeChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setDisplayFormatType(newValue);\r\n    }\r\n  }\r\n\r\n  secondaryCalendarTypeChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setSecondaryCalendarType(newValue);\r\n    }\r\n  }\r\n  minDateChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setMinDate(newValue);\r\n    }\r\n  }\r\n\r\n  specialDatesChanged(newValue) {\r\n    //TODO: Need to add and remove values separately\r\n    if (this._picker !== null) {\r\n      this._picker.setSpecialDates(newValue);\r\n    }\r\n  }\r\n\r\n  /*valueChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setValue(newValue);\r\n    }\r\n  }\r\n  widthChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setWidth(newValue);\r\n    }\r\n  }\r\n  enabledChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setEnabled(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  valueStateChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setValueState(newValue);\r\n    }\r\n  }\r\n  nameChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setName(newValue);\r\n    }\r\n  }\r\n  placeholderChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setPlaceholder(newValue);\r\n    }\r\n  }\r\n  editableChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setEditable(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  valueStateTextChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setValueStateText(newValue);\r\n    }\r\n  }\r\n  showValueStateMessageChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setShowValueStateMessage(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  textAlignChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setTextAlign(newValue);\r\n    }\r\n  }\r\n  textDirectionChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setTextDirection(newValue);\r\n    }\r\n  }\r\n  requiredChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.setRequired(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  changeChanged(newValue) {\r\n    if (this._picker !== null) {\r\n      this._picker.attachChange(newValue);\r\n    }\r\n  }*/\r\n}\r\n"]}