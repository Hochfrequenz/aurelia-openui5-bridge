{"version":3,"sources":["list/list.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Control","Ui5ListBase","Ui5List","Element","element","_list","_parent","_relation","defaultFunc","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","addItem","removeChildByRelation","relation","removeItem","removeChild","resetLimit","_oGrowingDelegate","reset","attached","attributeManager","props","backgroundDesign","fillProperties","list","sap","m","List","updateItems","sChangeReason","_onBeforePageLoaded","_onAfterPageLoaded","closest","length","au","controller","viewModel","addAttributes","placeAt","parentElement","addClasses","detached","destroy","backgroundDesignChanged","newValue","setBackgroundDesign","selectionChangeChanged","attachSelectionChange"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,c,sBAAAA,Q;AAAUC,mB,sBAAAA,a;AAAeC,Y,sBAAAA,M;;AACzBC,Y,+BAAAA,M;;AACAC,sB,2BAAAA,gB;;AACAC,kC,qBAAAA,4B;;AACAC,gB,mBAAAA,U;;AACAC,iB,qBAAAA,W;;;;;;;;;;;;;;;;;;;;;yBAGIC,O,WAFZP,cAAc,UAAd,C,UACAE,OAAOM,OAAP,C,UAEET,U,UAEAA,U,UACAA,U,UAEAA,U,UACAA,U,UACAA,U,UACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WAEAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WACAA,U,WAEAA,U;;;AAKD,yBAAYU,OAAZ,EAAqB;AAAA;;AAAA,uDACnB,wBAAMA,OAAN,CADmB;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,gBAHrBC,KAGqB,GAHb,IAGa;AAAA,gBAFrBC,OAEqB,GAFX,IAEW;AAAA,gBADrBC,SACqB,GADT,IACS;;AAEnB,gBAAKH,OAAL,GAAeA,OAAf;AAFmB;AAGpB;;0BAIDI,W,0BAAc,CAEb,C;;0BACDC,Q,qBAASC,K,EAAOC,I,EAAM;AACpB,cAAIC,OAAOC,OAAOC,SAAP,CAAiBC,EAAEJ,IAAF,EAAQK,YAAR,CAAqB,KAAKZ,OAA1B,CAAjB,CAAX;AACA,+BAAaQ,IAAb,kHAAmB;AAAA;AAAA;AAAdD,kBAAc;AAAA;AAAA;AAAA;AAAdA,kBAAc;AAAA;;AAEjB,gBAAIA,KAAKM,SAAL,IAAkB,MAAtB,EACA;AAAE,mBAAKZ,KAAL,CAAWa,OAAX,CAAmBR,KAAnB,EAA2B,OAAOC,KAAKM,SAAZ;AAAwB;AAEtD;AACF,S;;0BACDE,qB,kCAAsBT,K,EAAOU,Q,EAAU;AACrC,cAAIA,YAAY,MAAhB,EAAwB;AACtB,iBAAKf,KAAL,CAAWgB,UAAX,CAAsBX,KAAtB;AACD;AACF,S;;0BACDY,W,wBAAYZ,K,EAAOC,I,EAAM;AACvB,cAAIC,OAAOC,OAAOC,SAAP,CAAiBC,EAAEJ,IAAF,EAAQK,YAAR,CAAqB,KAAKZ,OAA1B,CAAjB,CAAX;AACA,gCAAaQ,IAAb,yHAAmB;AAAA;AAAA;AAAdD,kBAAc;AAAA;AAAA;AAAA;AAAdA,kBAAc;AAAA;;AACjB,gBAAIA,KAAKM,SAAL,IAAkB,MAAtB,EACA;AAAE,mBAAKZ,KAAL,CAAWgB,UAAX,CAAsBX,KAAtB,EAA8B;AAAQ;AACzC;AAEF,S;;0BACDa,U,yBAAa;AACX,eAAKlB,KAAL,CAAWmB,iBAAX,CAA6BC,KAA7B;AACD,S;;0BACDC,Q,uBAAW;AACT,cAAIC,mBAAmB,IAAI7B,gBAAJ,CAAqB,KAAKM,OAA1B,CAAvB;AACA,cAAIwB,QAAQ;AACVC,8BAAkB,KAAKA;AADb,WAAZ;AAGA,iCAAMC,cAAN,YAAqBF,KAArB;AACA,cAAIG,OAAO,IAAIC,IAAIC,CAAJ,CAAMC,IAAV,CAAeN,KAAf,CAAX;AACA,eAAKvB,KAAL,GAAa0B,IAAb;AACA,eAAK1B,KAAL,CAAWmB,iBAAX,CAA6BW,WAA7B,GAA2C,UAAUC,aAAV,EAAyB;AAClE,iBAAKC,mBAAL,CAAyBD,aAAzB;AACA,iBAAKE,kBAAL,CAAwBF,aAAxB;AACD,WAHD;AAIA,cAAIrB,EAAE,KAAKX,OAAP,EAAgBmC,OAAhB,CAAwB,iBAAxB,EAA2CC,MAA3C,GAAoD,CAAxD,EAA2D;AACzD,iBAAKlC,OAAL,GAAeS,EAAE,KAAKX,OAAP,EAAgBmC,OAAhB,CAAwB,iBAAxB,EAA2C,CAA3C,EAA8CE,EAA9C,CAAiDC,UAAjD,CAA4DC,SAA3E;AACA,iBAAKpC,SAAL,GAAiB,KAAKD,OAAL,CAAaG,QAAb,CAAsB,KAAKJ,KAA3B,EAAkC,KAAKD,OAAvC,CAAjB;AACAuB,6BAAiBiB,aAAjB,CAA+B,EAAE,iBAAiB,EAAnB,EAA/B;AACD,WAJD,MAKK;AACH,iBAAKvC,KAAL,CAAWwC,OAAX,CAAmB,KAAKzC,OAAL,CAAa0C,aAAhC;AACAnB,6BAAiBiB,aAAjB,CAA+B,EAAE,iBAAiB,EAAnB,EAA/B;AACAjB,6BAAiBoB,UAAjB,CAA4B,UAA5B;AACD;AACF,S;;0BACDC,Q,uBAAW;AACT,cAAI,KAAK1C,OAAL,IAAgB,KAAKA,OAAL,CAAaa,qBAAjC,EAAwD;AACtD,iBAAKb,OAAL,CAAaa,qBAAb,CAAmC,KAAKd,KAAxC,EAA+C,KAAKE,SAApD;AACD,WAFD,MAGK;AACH,iBAAKF,KAAL,CAAW4C,OAAX;AACD;AACF,S;;0BAEDC,uB,oCAAwBC,Q,EAAU;AAChC,cAAI,KAAK9C,KAAL,KAAe,IAAnB,EAAyB;AACvB,iBAAKA,KAAL,CAAW+C,mBAAX,CAA+BD,QAA/B;AACD;AACF,S;;0BACDE,sB,mCAAuBF,Q,EAAU;AAC/B,cAAI,KAAK9C,KAAL,KAAe,IAAnB,EAAyB;AACvB,iBAAKA,KAAL,CAAWiD,qBAAX,CAAiCH,QAAjC;AACD;AACF,S;;;;8BAxEe;AACd,mBAAO,KAAK9C,KAAZ;AACD;;;;QA3C0BJ,W;;;iBACI,O;;;;;iBAEX,K;;;;;iBACK,I;;;;;iBAEA,I;;;;;iBACN,M;;;;;iBACC,M;;;;;iBACiB,K;;;;;iBACZ,K;;;;;iBACA,I;;;;;iBACA,I;;;;;iBACS,I;;;;;iBACJ,I;;;;;iBACF,K;;;;;iBACC,M;;;;;iBACP,K;;;;;iBACS,E;;;;;iBACE,I;;;;;iBACC,K;;;;;iBACH,W;;;;;iBACE,I;;;;;iBACN,Y;;;;;iBAEN,KAAKO,W;;;;;iBACF,KAAKA,W;;;;;iBACC,KAAKA,W;;;;;iBACf,KAAKA,W;;;;;iBACI,KAAKA,W;;;;;iBACN,KAAKA,W;;;;;iBAEd,K","file":"../../../list/list.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { Ui5Control } from '../control/control';\r\nimport { Ui5ListBase } from '../list-base/list-base';\r\n@customElement('ui5-list')\r\n@inject(Element)\r\nexport class Ui5List extends Ui5ListBase {\r\n  @bindable() backgroundDesign = 'Solid';\r\n  /*inherited from list-base*/\r\n  @bindable() inset = false;\r\n  @bindable() headerText = null;\r\n  /*@bindable() headerDesign = 'Standard'; //deprecated */\r\n  @bindable() footerText = null;\r\n  @bindable() mode = 'None';\r\n  @bindable() width = '100%';\r\n  @bindable() includeItemInSelection = false;\r\n  @bindable() showUnread = false;\r\n  @bindable() noDataText = null;\r\n  @bindable() showNoData = true;\r\n  @bindable() enableBusyIndicator = true;\r\n  @bindable() modeAnimationOn = true;\r\n  @bindable() showSeparator = 'All';\r\n  @bindable() swipeDirection = 'Both';\r\n  @bindable() growing = false;\r\n  @bindable() growingThreshold = 20;\r\n  @bindable() growingTriggerText = null;\r\n  @bindable() growingScrollToLoad = false;\r\n  @bindable() growingDirection = 'Downwards';\r\n  @bindable() rememberSelections = true;\r\n  @bindable() keyboardMode = 'Navigation';\r\n\r\n  @bindable() delete = this.defaultFunc;\r\n  @bindable() itemPress = this.defaultFunc;\r\n  @bindable() selectionChange = this.defaultFunc;\r\n  @bindable() swipe = this.defaultFunc;\r\n  @bindable() updateFinished = this.defaultFunc;\r\n  @bindable() updateStarted = this.defaultFunc;\r\n  /*inherited from Ui5Control */\r\n  @bindable() busy = false;\r\n\r\n  _list = null;\r\n  _parent = null;\r\n  _relation = null;\r\n  constructor(element) {\r\n    super(element);\r\n    this.element = element;\r\n  }\r\n  get UIElement() {\r\n    return this._list;\r\n  }\r\n  defaultFunc() {\r\n\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n\r\n      if (elem.localName == 'item')\r\n      { this._list.addItem(child); return elem.localName; }\r\n\r\n    }\r\n  }\r\n  removeChildByRelation(child, relation) {\r\n    if (relation == 'item') {\r\n      this._list.removeItem(child);\r\n    }\r\n  }\r\n  removeChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n      if (elem.localName == 'item')\r\n      { this._list.removeItem(child); break; }\r\n    }\r\n\r\n  }\r\n  resetLimit() {\r\n    this._list._oGrowingDelegate.reset();\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var props = {\r\n      backgroundDesign: this.backgroundDesign,\r\n    };\r\n    super.fillProperties(props);\r\n    var list = new sap.m.List(props);\r\n    this._list = list;\r\n    this._list._oGrowingDelegate.updateItems = function (sChangeReason) {\r\n      this._onBeforePageLoaded(sChangeReason);\r\n      this._onAfterPageLoaded(sChangeReason);\r\n    };\r\n    if ($(this.element).closest(\"[ui5-container]\").length > 0) {\r\n      this._parent = $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel;\r\n      this._relation = this._parent.addChild(this._list, this.element);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n    else {\r\n      this._list.placeAt(this.element.parentElement);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n      attributeManager.addClasses(\"ui5-hide\");\r\n    }\r\n  }\r\n  detached() {\r\n    if (this._parent && this._parent.removeChildByRelation) {\r\n      this._parent.removeChildByRelation(this._list, this._relation);\r\n    }\r\n    else {\r\n      this._list.destroy();\r\n    }\r\n  }\r\n\r\n  backgroundDesignChanged(newValue) {\r\n    if (this._list !== null) {\r\n      this._list.setBackgroundDesign(newValue);\r\n    }\r\n  }\r\n  selectionChangeChanged(newValue) {\r\n    if (this._list !== null) {\r\n      this._list.attachSelectionChange(newValue);\r\n    }\r\n  }\r\n\r\n}\r\n"]}