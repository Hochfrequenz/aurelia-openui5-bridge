{"version":3,"sources":["table/table.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Control","Ui5Table","Element","element","_table","addChild","child","elem","path","$","parentsUntil","localName","setHeaderToolbar","setInfoToolbar","addItem","addColumn","removeChild","removeItem","attached","attributeManager","props","headerText","showOverlay","fillProperties","table","sap","m","Table","parents","length","au","controller","viewModel","addAttributes","placeAt","parentElement","addClasses","detached","destroy","headerTextChanged","newValue","setHeaderText","showOverlayChanged","setShowOverlay"],"mappings":"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","file":"../../../table/table.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { Ui5Control } from '../control/control';\r\n@customElement('ui5-table')\r\n@inject(Element)\r\nexport class Ui5Table extends Ui5Control {\r\n  @bindable() headerText = '';\r\n  @bindable() showOverlay = false;\r\n  /*inherited from Ui5Control */\r\n  @bindable() busy = false;\r\n\r\n  _table = null;\r\n  constructor(element) {\r\n    super(element);\r\n    this.element = element;\r\n  }\r\n  get UIElement() {\r\n        return this._table;\r\n    }\r\n  addChild(child, elem) {\r\n    var path = $(elem).parentsUntil(this.element);\r\n    for (elem of path) {\r\n      if (elem.localName == 'header-toolbar')\r\n      { this._table.setHeaderToolbar(child); break; }\r\n      if (elem.localName == 'info-toolbar')\r\n      { this._table.setInfoToolbar(child); break; }\r\n      if (elem.localName == 'item')\r\n      { this._table.addItem(child); break; }\r\n      if (elem.localName == 'column')\r\n      { this._table.addColumn(child); break; }\r\n    }\r\n  }\r\n  removeChild(child, elem) {\r\n    var path = $(elem).parentsUntil(this.element);\r\n    for (elem of path) {\r\n      if (elem.localName == 'item')\r\n      { this._table.removeItem(child); break; }\r\n    }\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var props = {\r\n      headerText: this.headerText,\r\n      showOverlay: getBooleanFromAttributeValue(this.showOverlay)\r\n    };\r\n    super.fillProperties(props);\r\n    var table = new sap.m.Table(props);\r\n    this._table = table;\r\n\r\n    if ($(this.element).parents(\"[ui5-container]\").length > 0) {\r\n      $(this.element).parents(\"[ui5-container]\")[0].au.controller.viewModel.addChild(this._table, this.element);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n    else {\r\n      this._table.placeAt(this.element.parentElement);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n      attributeManager.addClasses(\"ui5-hide\");\r\n    }\r\n  }\r\n  detached() {\r\n    if ($(this.element).parents(\"[ui5-container]\").length > 0) {\r\n      $(this.element).parents(\"[ui5-container]\")[0].au.controller.viewModel.removeChild(this._table, this.element);\r\n    }\r\n    else {\r\n      this._table.destroy();\r\n    }\r\n  }\r\n  headerTextChanged(newValue) {\r\n    if (this._table !== null) {\r\n      this._table.setHeaderText(newValue);\r\n    }\r\n  }\r\n  showOverlayChanged(newValue) {\r\n    if (this._table !== null) {\r\n      this._table.setShowOverlay(newValue);\r\n    }\r\n  }\r\n}\r\n"]}