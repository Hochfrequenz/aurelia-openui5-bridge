{"version":3,"sources":["table/table.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Control","Ui5ListBase","Ui5Table","Element","element","_table","_parent","_relation","addChild","child","elem","path","$","parentsUntil","localName","setHeaderToolbar","setInfoToolbar","addItem","addColumn","removeChildByRelation","relation","removeItem","removeChild","attached","attributeManager","props","showOverlay","fixedLayout","fillProperties","table","sap","m","Table","parents","length","au","controller","viewModel","addAttributes","placeAt","parentElement","addClasses","detached","destroy","fixedLayoutChanged","newValue","setFixedLayout","headerTextChanged","setHeaderText","showOverlayChanged","setShowOverlay","defaultFunc"],"mappings":"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","file":"../../../table/table.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { Ui5Control } from '../control/control';\r\nimport { Ui5ListBase } from '../list-base/list-base';\r\n@customElement('ui5-table')\r\n@inject(Element)\r\nexport class Ui5Table extends Ui5ListBase {\r\n\r\n  @bindable() showOverlay = false;\r\n  @bindable() fixedLayout = true;\r\n\r\n   /*inherited from list-base*/\r\n  @bindable() inset = true;\r\n  @bindable() headerText = null;\r\n  @bindable() headerDesign = 'Standard';\r\n  @bindable() footerText = null;\r\n  @bindable() mode = 'None';\r\n  @bindable() width = '100%';\r\n  @bindable() includeItemInSelection = false;\r\n  @bindable() showUnread = false;\r\n  @bindable() noDataText = null;\r\n  @bindable() showNoData = true;\r\n  @bindable() enableBusyIndicator = true;\r\n  @bindable() modeAnimationOn = true;\r\n  @bindable() showSeparator = 'All';\r\n  @bindable() swipeDirection = 'Both';\r\n  @bindable() growing = false;\r\n  @bindable() growingThreshold = 20;\r\n  @bindable() growingTriggerText = null;\r\n  @bindable() growingScrollToLoad = false;\r\n  @bindable() growingDirection = 'Downwards';\r\n  @bindable() rememberSelections = true;\r\n  @bindable() keyboardMode = 'Navigation';\r\n\r\n  @bindable() delete = this.defaultFunc;\r\n  @bindable() itemPress = this.defaultFunc;\r\n  @bindable() selectionChange = this.defaultFunc;\r\n  @bindable() swipe = this.defaultFunc;\r\n  @bindable() updateFinished = this.defaultFunc;\r\n  @bindable() updateStarted = this.defaultFunc;\r\n  /*inherited from Ui5Control */\r\n  @bindable() busy = false;\r\n\r\n  _table = null;\r\n  _parent = null;\r\n  _relation = null;\r\n  constructor(element) {\r\n    super(element);\r\n    this.element = element;\r\n  }\r\n  get UIElement() {\r\n    return this._table;\r\n  }\r\n  addChild(child, elem) {\r\n    var path = $(elem).parentsUntil(this.element);\r\n    for (elem of path) {\r\n      if (elem.localName == 'header-toolbar')\r\n      { this._table.setHeaderToolbar(child); return elem.localName; }\r\n      if (elem.localName == 'info-toolbar')\r\n      { this._table.setInfoToolbar(child); return elem.localName; }\r\n      if (elem.localName == 'item')\r\n      { this._table.addItem(child); return elem.localName; }\r\n      if (elem.localName == 'column')\r\n      { this._table.addColumn(child); return elem.localName; }\r\n    }\r\n  }\r\n  removeChildByRelation(child, relation) {\r\n    if (relation == 'item') {\r\n      this._table.removeItem(child);\r\n    }\r\n  }\r\n  removeChild(child, elem) {\r\n    var path = $(elem).parentsUntil(this.element);\r\n    for (elem of path) {\r\n      if (elem.localName == 'item')\r\n      { this._table.removeItem(child); break; }\r\n    }\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var props = {\r\n      showOverlay: getBooleanFromAttributeValue(this.showOverlay),\r\n      fixedLayout: getBooleanFromAttributeValue(this.fixedLayout)\r\n    };\r\n    super.fillProperties(props);\r\n    var table = new sap.m.Table(props);\r\n    this._table = table;\r\n\r\n    if ($(this.element).parents(\"[ui5-container]\").length > 0) {\r\n      this._parent = $(this.element).parents(\"[ui5-container]\")[0].au.controller.viewModel;\r\n      this._relation = this._parent.addChild(this._table, this.element);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n    else {\r\n      this._table.placeAt(this.element.parentElement);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n      attributeManager.addClasses(\"ui5-hide\");\r\n    }\r\n  }\r\n  detached() {\r\n    if (this._parent && this._parent.removeChildByRelation) {\r\n      this._parent.removeChildByRelation(this._table, this._relation);\r\n    }\r\n    else {\r\n      this._table.destroy();\r\n    }\r\n  }\r\n  fixedLayoutChanged(newValue) {\r\n    if (this._table !== null) {\r\n      this._table.setFixedLayout(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  headerTextChanged(newValue) {\r\n    if (this._table !== null) {\r\n      this._table.setHeaderText(newValue);\r\n    }\r\n  }\r\n  showOverlayChanged(newValue) {\r\n    if (this._table !== null) {\r\n      this._table.setShowOverlay(newValue);\r\n    }\r\n  }\r\n}\r\n"]}