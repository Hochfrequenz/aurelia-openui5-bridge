{"version":3,"sources":["message-item/message-item.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","computedFrom","Ui5MessageItem","Element","element","_item","_parent","_relation","defaultFunc","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","setLink","removeChildByRelation","relation","attached","attributeManager","sap","m","MessageItem","type","title","subtitle","description","markupDescription","longtextUrl","counter","groupName","removeAttribute","closest","length","prevSibling","previousElementSibling","au","controller","viewModel","UIElement","addAttributes","placeAt","parentElement","addClasses","detached","removeAttributes","destroy","typeChanged","newValue","setType","titleChanged","setTitle","subtitleChanged","setSubtitle","descriptionChanged","setDescription","markupDescriptionChanged","setMarkupDescription","longtextUrlChanged","setLongtextUrl","counterChanged","setCounter","groupNameChanged","setGroupName"],"mappings":"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","file":"../../../message-item/message-item.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { computedFrom } from 'aurelia-framework';\r\n@customElement('ui5-message-item')\r\n@inject(Element)\r\n\r\nexport class Ui5MessageItem {\r\n  _item = null;\r\n  _parent = null;\r\n  _relation = null;\r\n  @bindable() ui5Id = null;\r\n  @bindable() type = 'Error';\r\n  @bindable() title = null;\r\n  @bindable() subtitle = null;\r\n  @bindable() description = null;\r\n  @bindable() markupDescription = false;\r\n  @bindable() longtextUrl = null;\r\n  @bindable() counter = 0;\r\n  @bindable() groupName = null;\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n  defaultFunc() {\r\n\r\n  }\r\n  @computedFrom('_item')\r\n  get UIElement() {\r\n    return this._item;\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n      if (elem.localName == 'links') {\r\n        this._item.setLink(child);\r\n        return elem.localName;\r\n      }\r\n    }\r\n  }\r\n  removeChildByRelation(child, relation) {\r\n    if (relation === 'links' && this._item && child) {\r\n      this._item.setLink(null);\r\n    }\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    this._item = new sap.m.MessageItem({\r\n      type: this.type,\r\n      title: this.title,\r\n      subtitle: this.subtitle,\r\n      description: this.description,\r\n      markupDescription: getBooleanFromAttributeValue(this.markupDescription),\r\n      longtextUrl: this.longtextUrl,\r\n      counter: this.counter,\r\n      groupName: this.groupName\r\n    });\r\n    this.element.removeAttribute('ui5-container');\r\n    if ($(this.element).closest(\"[ui5-container]\").length > 0) {\r\n      var prevSibling = null;\r\n      if (this.element.previousElementSibling)\r\n        prevSibling = this.element.previousElementSibling.au.controller.viewModel.UIElement;\r\n      this._parent = $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel;\r\n      this._relation = this._parent.addChild(this._item, this.element, prevSibling);\r\n      attributeManager.addAttributes({ \"ui5-container\": '' });\r\n    }\r\n    else {\r\n      this._item.placeAt(this.element.parentElement);\r\n      attributeManager.addClasses(\"ui5-hide\");\r\n    }\r\n  }\r\n  detached() {\r\n    if (this._parent && this._parent.removeChildByRelation)\r\n      this._parent.removeChildByRelation(this._item, this._relation);\r\n    var attributeManager = new AttributeManager(this.element);\r\n    attributeManager.removeAttributes([\"ui5-container\"]);\r\n    this._item.destroy();\r\n  }\r\n  typeChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setType(newValue);\r\n    }\r\n  }\r\n  titleChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setTitle(newValue);\r\n    }\r\n  }\r\n  subtitleChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setSubtitle(newValue);\r\n    }\r\n  }\r\n  descriptionChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setDescription(newValue);\r\n    }\r\n  }\r\n  markupDescriptionChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setMarkupDescription(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  longtextUrlChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setLongtextUrl(newValue);\r\n    }\r\n  }\r\n  counterChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setCounter(newValue);\r\n    }\r\n  }\r\n  groupNameChanged(newValue) {\r\n    if (this._item !== null) {\r\n      this._item.setGroupName(newValue);\r\n    }\r\n  }\r\n}\r\n"]}