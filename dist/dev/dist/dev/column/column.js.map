{"version":3,"sources":["column/column.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5Control","Ui5Column","Element","element","_column","_parent","_relation","defaultFunc","attached","attributeManager","params","width","hAlign","vAlign","styleClass","visible","minScreenWidth","demandPopin","popinDisplay","mergeDuplicates","mergeFunctionName","ui5Id","sap","m","Column","$","closest","au","controller","viewModel","addChild","addAttributes","detached","removeChildByRelation","child","elem","path","jQuery","makeArray","parentsUntil","localName","setHeader","setFooter","addDependent","widthChanged","newValue","setWidth","hAlignChanged","setHAlign","vAlignChanged","setVAlign","styleClassChanged","setStyleClass","visibleChanged","setVisible","minScreenWidthChanged","setMinScreenWidth","demandPopinChanged","setDemandPopin","popinDisplayChanged","setPopinDisplay","mergeDuplicatesChanged","setMergeDuplicates","mergeFunctionNameChanged","setMergeFunctionName"],"mappings":"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","file":"../../../column/column.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\r\nimport { inject } from 'aurelia-dependency-injection';\r\nimport { AttributeManager } from '../common/attributeManager';\r\nimport { getBooleanFromAttributeValue } from '../common/attributes';\r\nimport { Ui5Control } from '../control/control';\r\n@customElement('ui5-column')\r\n@inject(Element)\r\n\r\nexport class Ui5Column {\r\n  _column = null;\r\n  _parent = null;\r\n  _relation = null;\r\n  @bindable() ui5Id = null;\r\n  @bindable() width;\r\n  @bindable() hAlign = 'Begin';\r\n  @bindable() vAlign = 'Inherit';\r\n  @bindable() styleClass = null;\r\n  @bindable() visible = true;\r\n  @bindable() minScreenWidth = null;\r\n  @bindable() demandPopin = false;\r\n  /*@bindable() popinHAlign = null; //deprecated */\r\n  @bindable() popinDisplay = null;\r\n  @bindable() mergeDuplicates = false;\r\n  @bindable() mergeFunctionName = 'getText';\r\n  constructor(element) {\r\n    this.element = element;\r\n  }\r\n  defaultFunc() {\r\n\r\n  }\r\n  attached() {\r\n    var attributeManager = new AttributeManager(this.element);\r\n    var params = {\r\n      width: this.width,\r\n      hAlign: this.hAlign,\r\n      vAlign: this.vAlign,\r\n      styleClass: this.styleClass,\r\n      visible: getBooleanFromAttributeValue(this.visible),\r\n      minScreenWidth: this.minScreenWidth,\r\n      demandPopin: getBooleanFromAttributeValue(this.demandPopin),\r\n      popinDisplay: this.popinDisplay,\r\n     // popinHAlign: this.popinHAlign,\r\n      mergeDuplicates: getBooleanFromAttributeValue(this.mergeDuplicates),\r\n      mergeFunctionName: this.mergeFunctionName\r\n    };\r\n    if (this.ui5Id)\r\n      this._column = new sap.m.Column(this.ui5Id, params);\r\n    else\r\n      this._column = new sap.m.Column(params);\r\n    this._parent = $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel;\r\n    this._relation = this._parent.addChild(this._column, this.element);\r\n    attributeManager.addAttributes({ \"ui5-container\": '' });\r\n\r\n  }\r\n  detached() {\r\n    if (this._parent && this._relation) {\r\n      this._parent.removeChildByRelation(this._column, this._relation);\r\n    }\r\n  }\r\n  addChild(child, elem) {\r\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\r\n    for (elem of path) {\r\n      if (elem.localName == 'header')\r\n      { this._column.setHeader(child); break; }\r\n      if (elem.localName == 'footer')\r\n      { this._column.setFooter(child); break; }\r\n      if (elem.localName == 'content')\r\n      { this._column.addDependent(child); break; }\r\n    }\r\n  }\r\n  widthChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setWidth(newValue);\r\n    }\r\n  }\r\n  hAlignChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setHAlign(newValue);\r\n    }\r\n  }\r\n  vAlignChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setVAlign(newValue);\r\n    }\r\n  }\r\n  styleClassChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setStyleClass(newValue);\r\n    }\r\n  }\r\n  visibleChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setVisible(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  minScreenWidthChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setMinScreenWidth(newValue);\r\n    }\r\n  }\r\n\r\n  demandPopinChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setDemandPopin(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  popinDisplayChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setPopinDisplay(newValue);\r\n    }\r\n  }\r\n  /*popinHAlignChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setPopinHAlign(newValue);\r\n    }\r\n  }*/\r\n  mergeDuplicatesChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setMergeDuplicates(getBooleanFromAttributeValue(newValue));\r\n    }\r\n  }\r\n  mergeFunctionNameChanged(newValue) {\r\n    if (this._column !== null) {\r\n      this._column.setMergeFunctionName(newValue);\r\n    }\r\n  }\r\n\r\n}\r\n"]}