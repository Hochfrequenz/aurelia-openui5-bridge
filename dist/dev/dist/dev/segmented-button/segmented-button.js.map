{"version":3,"sources":["segmented-button/segmented-button.js"],"names":["bindable","customElement","noView","inject","AttributeManager","getBooleanFromAttributeValue","Ui5SegmentedButton","Element","defaultFunc","element","_button","attributeManager","addChild","child","elem","path","jQuery","makeArray","$","parentsUntil","localName","getItems","length","selectedKey","mProperties","key","addItem","attached","sap","m","SegmentedButton","enabled","width","select","that","closest","au","controller","viewModel","addAttributes","attachSelect","event","mParameters","detached","enableChanged","newValue","setEnabled","widthChanged","setWidth","selectedKeyChanged","setSelectedKey"],"mappings":"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","file":"../../../segmented-button/segmented-button.js","sourcesContent":["import { bindable, customElement, noView } from 'aurelia-templating';\nimport { inject } from 'aurelia-dependency-injection';\nimport { AttributeManager } from '../common/attributeManager';\nimport { getBooleanFromAttributeValue } from '../common/attributes';\n\n@customElement('ui5-segmented-button')\n@inject(Element)\nexport class Ui5SegmentedButton {\n  @bindable() enabled = false;\n  @bindable() width = null;\n  @bindable() selectedKey = null;\n  @bindable() select = this.defaultFunc;\n  _button = null;\n  defaultFunc() {\n\n  }\n  constructor(element) {\n    this.attributeManager = new AttributeManager(element);\n    this.element = element;\n  }\n  get UIElement() {\n    return this._button;\n  }\n  addChild(child, elem) {\n    var path = jQuery.makeArray($(elem).parentsUntil(this.element));\n    for (elem of path) {\n      if (elem.localName == 'item') {\n        if (this._button.getItems().length == 0) // set key when first item is added\n          this.selectedKey = child.mProperties.key;\n        this._button.addItem(child);\n\n        break;\n      }\n    }\n  }\n\n  attached() {\n    this._button = new sap.m.SegmentedButton({\n      enabled: !getBooleanFromAttributeValue(this.enabled),\n      width: this.width,\n      selectedKey: this.selectedKey,\n      select: this.select\n    });\n    var that = this;\n    if ($(this.element).closest(\"[ui5-container]\").length > 0) {\n      $(this.element).closest(\"[ui5-container]\")[0].au.controller.viewModel.addChild(this._button, this.element);\n      this.attributeManager.addAttributes({ \"ui5-container\": '' });\n    }\n    this._button.attachSelect((event) => {\n      that.selectedKey = event.mParameters.key;\n    });\n\n  }\n  detached() {\n\n  }\n  enableChanged(newValue) {\n    if (this._button !== null) {\n      this._button.setEnabled(!getBooleanFromAttributeValue(newValue));\n    }\n  }\n  widthChanged(newValue) {\n    if (this._button !== null) {\n      this._button.setWidth(newValue);\n    }\n  }\n  selectedKeyChanged(newValue) {\n    if (this._button !== null) {\n      this._button.setSelectedKey(newValue);\n    }\n  }\n\n}\n"]}