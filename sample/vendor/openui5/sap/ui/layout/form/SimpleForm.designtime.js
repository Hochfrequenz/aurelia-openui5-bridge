/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2016 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var g=function(f){var t=this;var c=[];var l=f.getLabel();var C=f.getFields();if(l){C=[l].concat(C);}C.forEach(function(o){c.push({element:o,visible:o.getVisible(),index:t.getContent().indexOf(o)});});return{elementsState:c};};return{name:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.SimpleForm"){return{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"};}else if(t==="sap.ui.layout.form.FormContainer"){return{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"};}},aggregations:{content:{ignore:true},form:{inHiddenTree:true,getIndex:function(s,f){var i=0;var F=s.getAggregation("form").getFormContainers();if(f){i=F.indexOf(f)+1;}else{var t=F[F.length-1].getTitle();if(t!==null){i=F.length;}}return i;},ignore:false,childrenName:function(e){var t=e.getMetadata().getName();if(t==="sap.ui.layout.form.SimpleForm"){return{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"};}else if(t==="sap.ui.layout.form.FormContainer"){return{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"};}},actions:{move:function(m){var t=m.getMetadata().getName();if(t==="sap.ui.layout.form.FormContainer"){return"moveSimpleFormGroup";}else if(t==="sap.ui.layout.form.FormElement"){return"moveSimpleFormField";}},rename:function(e){var t=e.getMetadata().getName();var i=true;var r;if(t==="sap.ui.layout.form.FormContainer"){if(e.getToolbar&&e.getToolbar()){i=false;}r={changeType:"renameTitle",isEnabled:i,domRef:function(c){if(c.getTitle&&c.getTitle()){return c.getTitle().getDomRef();}else{return;}},getState:function(c){var s={oTitle:c.getTitle(),oldValue:c.getTitle().getText()};return s;},restoreState:function(c,s){s.oTitle.setText(s.oldValue);var b="";var B=s.oTitle.getBindingInfo("text");if(B){b=B.binding.getValue();if(b===s.oldValue){var o=s.oTitle.getBinding("text");if(o){o.resume();}}}return true;}};}else if(t==="sap.ui.layout.form.FormElement"){r={changeType:"renameLabel",isEnabled:i,domRef:function(c){return c.getLabel().getDomRef();},getState:function(c){var s={oLabel:c.getLabel(),oldValue:c.getLabel().getText()};return s;},restoreState:function(c,s){s.oLabel.setText(s.oldValue);var b="";var B=s.oLabel.getBindingInfo("text");if(B){b=B.binding.getValue();if(b===s.oldValue){var o=s.oLabel.getBinding("text");if(o){o.resume();}}}return true;}};}return r;},remove:function(r){var t=r.getMetadata().getName();var c;var i=true;if(t==="sap.ui.layout.form.FormContainer"){c="removeSimpleFormGroup";i=!!r.getTitle()||!!r.getToolbar();}else if(t==="sap.ui.layout.form.FormElement"){c="hideSimpleFormField";}return{changeType:c,isEnabled:i,getConfirmationText:function(r){var C=false;if(r.getMetadata().getName()==="sap.ui.layout.form.FormContainer"&&r.getToolbar&&r.getToolbar()){var T=r.getToolbar().getContent();if(T.length>1){C=true;}else if((T.length===1)&&(!T[0].getMetadata().isInstanceOf("sap.ui.core.Label")&&!T[0]instanceof sap.ui.core.Title&&!T[0]instanceof sap.m.Title)){C=true;}}if(C){var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.layout");return o.getText("MSG_REMOVING_TOOLBAR");}},getState:function(r){var a=this;if(r.getMetadata().getName()==="sap.ui.layout.form.FormElement"){return g.call(this,r);}else{var e=[];var T=r.getTitle()||r.getToolbar();e.push({element:T,index:this.getContent().indexOf(T)});r.getFormElements().forEach(function(f){e=e.concat(g.call(a,f).elementsState);});return{elementsState:e};}},restoreState:function(r,s){var a=this;if(r.getMetadata().getName()==="sap.ui.layout.form.FormElement"){s.elementsState.forEach(function(e){e.element.setVisible(e.visible);});}else{s.elementsState.forEach(function(e){if(e.visible){e.element.setVisible(e.visible);}if(e.index!==undefined){a.removeContent(e.element);a.insertContent(e.element,e.index);}});}}};},createContainer:function(e){var t=e.getMetadata().getName();var c;if(t==="sap.ui.layout.form.FormElement"){return;}else if(t==="sap.ui.layout.form.SimpleForm"){c={changeType:"addSimpleFormGroup",isEnabled:function(s){var f=s.getAggregation("form");var F=f.getFormContainers();for(var i=0;i<F.length;i++){if(F[i].getToolbar&&F[i].getToolbar()){return false;}}return true;},restoreState:function(e){e.destroy();return true;},getState:function(e){},containerTitle:"GROUP_CONTROL_NAME",getCreatedContainerId:function(n){var T=sap.ui.getCore().byId(n);var p=T.getParent().getId();return p;}};}else if(t==="sap.ui.layout.form.FormContainer"){c={changeType:"addSimpleFormGroup",isEnabled:function(f){if(f.getToolbar&&f.getToolbar()){return false;}return true;},restoreState:function(e){e.destroy();return true;},getState:function(e){},containerTitle:"GROUP_CONTROL_NAME",getCreatedContainerId:function(n){var T=sap.ui.getCore().byId(n);var p=T.getParent().getId();return p;}};}return c;},reveal:function(p){var t=p.getMetadata().getName();if(t==="sap.ui.layout.form.FormContainer"){return{changeType:"unhideSimpleFormField",getInvisibleElements:function(s){var e=[];var c=s.getContent();c.forEach(function(f){if(f instanceof sap.m.Label&&!f.getDomRef()){e.push(f.getParent());}});return e;}};}}},getStableElements:function(e){var s=[];var l;var t;if(e.getMetadata().getName()==="sap.ui.layout.form.FormElement"){l=e.getLabel();if(l){s.push(l);}s=s.concat(e.getFields());}else if(e.getMetadata().getName()==="sap.ui.layout.form.FormContainer"){t=e.getTitle()||e.getToolbar();if(t){s[0]=t;}e.getFormElements().forEach(function(f){l=f.getLabel();if(l){s.push(l);}s=s.concat(f.getFields());});}return s;}}}};},false);
